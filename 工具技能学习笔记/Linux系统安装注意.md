---
title: Linux系统安装注意
date: 2019-12-15 13:15:00
categories:
- 工具使用问题记录
- Linux
tags:
- 系统安装
- Linux
---

[较好的教程](https://blog.csdn.net/suifenghahahaha/article/details/79710023#%E4%BA%B2%E6%B5%8Bdell%E7%AC%94%E8%AE%B0%E6%9C%ACUEFI%E5%90%AF%E5%8A%A8%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%94%B5%E8%84%91%E5%AE%89%E8%A3%85Win10%E5%92%8CUbuntu%E5%8F%8C%E7%B3%BB%E7%BB%9F)
# Wanted：安装Ubuntu到有一个不能删除的分区的移动硬盘上，并能在不同电脑上使用该系统
看上面的教程时候注意区别legacy和UEFI启动的不同。也就是挂载分区时候，是否选择/boot分区，里面具体的差别请仔细看作者的案例，其两种启动方式都进行了介绍。
# 操作：
1. 直接在硬盘前面上分配出150G的 **“未分配”** 空间，再去Ubuntu划分挂载等空间，出现此问题：
**问题1：提示“分配到/的分区/dev/sdax开始于xxxx字节,使用磁盘的最小对齐,这可能造成非常差的性能..."**
>我们必须要对移动硬盘进行分区，因为直接用隐藏分区进行安装会出现分区未对齐的错误，导致安装失败。（我试了其他系统好像只有乌班图会出现此情况）.
这里推荐diskgenius，我是分了一个500M的引导区，200G的根分区，其他正常存储区。（显示就是D盘E盘F盘等），格式化并4K对齐。

2. 接下来的操作：下载DiskGenius软件，对前150G的未分配空间建立需要的分区，但是无法旋转逻辑分区或者扩展分区。**问题二**
>分区表：
EFI系统分区 | 1G
Swap交换空间 | 6G
EXT4格式（挂载根目录/） | 140G
引导文件选择EFI分区。

3. 未解决逻辑分区问题直接安装Ubuntu,安装成功，但是*不能在legacy BIOS电脑中打开系统。* **问题三**
4. 尝试能否在UEFI系统中打开。都不能打开。
5. 安装/boot的传统方式失败，报错boot内存不能小于1M？？我不是给了2G吗

6. 将磁盘从GPT转换到MBR，发现原有分区可以转换为逻辑分区
>MBR一个磁盘只有1个扩展分区，逻辑分区在扩展分区以下

还是没成功，提示问题是 *no operation System* 该尝试的都试过了，总之问题遗留于此，日后有闲情再解决，太浪费时间了。
# 问题总结
1. 本想在之前的硬盘中添加一个空闲区，以安装Legacy启动的UBuntu系统，这样在Legacy和UEFI启动的两个电脑上都能使用。但是分区这些都太麻烦了，还和硬盘的格式GPT/MBR啥的相关，总之一堆错误，我选择放弃，不如备份，**完全格式化硬盘** 省时间。
2. 尝试了 Legacy 启动的Ubuntu系统是可以在UEFI电脑打开的，需要 **在BIOS界面设置启动Legacy** 。其实他俩最大的差别就是能否支持快速开机。

# 后续
我在机械硬盘里面安装了个win10，也是历经挫折，最后格式化了整块硬盘是最快的方法，强烈推荐非专家这么干。
然后用之前在固态中安装的基于传统legacy启动的Ubuntu可以在两台电脑都打开。

**华硕2014年笔记本：**

状态 | 参数 | 说明 
:-: | :-: | :-: 
launch CSM | enable | CSM 兼容性支持模块,使系统兼容UEFI|
Lauch PXE opROM | disenable | PXE网络服务器,通过网络启动电脑,一直关闭|

实验下来两快硬盘里面系统的启动要去`Boot>>hard Drive BBS Priorities`里面选择优先级.
**联想2019年小新:**
这就简单很多了，设置好`Boot Mod >> legacy surpport` `legacy first`即可。开机之前插上Ubuntu即可。只是由于每次正常开机都会去先寻找legacy，因此会慢10s 


